title: 外卖系统提示词coursor
date: 2025-2-1 17:49:32
tags: 外卖系统
--------------

构建一个功能完善的餐饮外卖系统，包括用户端和商家端，具备以下核心功能：

1. **菜单展示**：
   * 清晰分类展示菜品（主食、小吃、饮品、套餐等）。
   * 每个菜品配有高清图片、名称、价格、详细描述。
   * 支持菜品多次添加。
2. **商家端**：
   * 商家注册/登录。
   * 菜品管理：添加、编辑、删除菜品，设置分类、价格、图片、描述。
   * 库存管理：管理菜品库存，库存为0时用户无法添加。
   * 营业时间管理：设置每日营业时间，非营业时间用户无法下单。
   * 套餐和优惠活动设置（先做静态）。
3. **用户端**：
   * 菜品搜索功能。
   * 口味偏好选择（不辣、微辣等）。
   * 手动添加菜品数量。
   * 购物车功能：
     * 添加菜品到购物车，显示单价、数量、总价。
     * 购物车页面增删改查功能。
     * 购物车信息记忆功能（刷新页面不丢失）。
     * 支付功能：
       * 统计购物车总价，加上配送费（满19元起送）。
       * 弹出商家收款二维码。
       * 填写姓名、地址、电话、备注。
       * 支付完成，记录订单信息。
   * 订单管理：查看已支付订单，增删改查。
   * 公告管理：显示商家公告。
4. **其他**：
   * 导航条：商家管理、订单管理、营业时间、公告管理（需密码）。
   * 微信支付后自动跳转，记录订单信息。
   * 美化页面：购物车、订单确认、订单明细、商家管理、订单管理、营业时间等。
   * 引入 Celery 异步任务队列，处理并发请求。
   * 菜品筛选功能（小菜、饮品）。
   * 解决图片不显示问题，支持并发访问。
   * 使用 SQLAlchemy 连接 MySQL 数据库，存储菜品和订单信息。
   * 解决连接数超限问题。
   * 购物车价格计算正确。
   * 移动端接收新订单时连接数超限问题。
   * 首页菜品分类展示，菜品管理页面设计。
   * 首页遍历数据库展示菜品。
   * 用户注册和登录页面。
   * 重要提示：配送范围、起送价、支付方式等。

**实现步骤**

1. **项目初始化**：
   * 创建项目目录结构。
   * 创建 `app.py`、`templates`、`static` 文件夹。
   * 安装依赖：`pip install flask flask-sqlalchemy flask-migrate pymysql celery redis qrcode`
   * 创建 `requirements.txt`：`pip freeze > requirements.txt`
2. **数据库模型**：
   * 定义 `User`、`Dish`、`Order`、`BusinessHours`、`Announcement` 模型。
3. **Flask 应用配置**：
   * 配置数据库连接、密钥、Celery。
4. **用户注册/登录**：
   * 创建注册和登录页面。
   * 实现用户注册和登录逻辑。
5. **菜单展示**：
   * 创建 `index.html`，展示菜品分类和菜品信息。
   * 从数据库读取菜品信息，动态渲染到页面。
6. **购物车功能**：
   * 创建 `cart.html`，展示购物车内容。
   * 实现添加菜品到购物车的功能。
   * 实现购物车增删改查功能。
   * 实现购物车信息记忆功能。
   * 计算购物车总价，加上配送费。
7. **支付功能**：
   * 创建订单确认页面，填写用户信息。
   * 生成商家收款二维码。
   * 记录订单信息到数据库。
   * 实现支付完成后的跳转逻辑。
8. **商家端功能**：
   * 创建商家登录页面。
   * 创建菜品管理页面，实现增删改查功能。
   * 创建库存管理页面。
   * 创建营业时间管理页面。
   * 创建套餐和优惠活动设置页面（先做静态）。
9. **订单管理**：
   * 创建订单管理页面，展示订单信息。
   * 实现订单增删改查功能。
10. **公告管理**：
    * 创建公告管理页面，编辑公告内容。
    * 在首页显示公告。
11. **其他功能**：
    * 实现菜品搜索功能。
    * 实现口味偏好选择。
    * 实现导航条的密码保护。
    * 引入 Celery 异步任务队列。
    * 实现菜品筛选功能。
    * 解决图片不显示问题。
    * 解决连接数超限问题。
    * 优化购物车价格计算。
    * 解决移动端连接数超限问题。
    * 美化页面。
    * 添加重要提示。
